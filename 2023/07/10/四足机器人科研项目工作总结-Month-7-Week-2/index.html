<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="本周总结主要完成了如下工作  配置虚拟环境 rlgpu 并安装 Isaac Gym 和 IsaacGymEnvs">
<meta property="og:type" content="article">
<meta property="og:title" content="四足机器人科研项目工作总结 Month 7 Week 2">
<meta property="og:url" content="http://example.com/2023/07/10/%E5%9B%9B%E8%B6%B3%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93-Month-7-Week-2/index.html">
<meta property="og:site_name" content="Shaw">
<meta property="og:description" content="本周总结主要完成了如下工作  配置虚拟环境 rlgpu 并安装 Isaac Gym 和 IsaacGymEnvs">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2023/07/10/%E5%9B%9B%E8%B6%B3%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93-Month-7-Week-2/image-20230711094402549.png">
<meta property="og:image" content="https://araffin.github.io/slides/rlvs-tips-tricks/images/algo_flow_dark.png">
<meta property="og:image" content="http://example.com/2023/07/10/%E5%9B%9B%E8%B6%B3%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93-Month-7-Week-2/image-20230712102224441.png">
<meta property="article:published_time" content="2023-07-10T07:56:13.000Z">
<meta property="article:modified_time" content="2023-07-14T04:17:40.743Z">
<meta property="article:author" content="Shaw">
<meta property="article:tag" content="项目工作总结">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2023/07/10/%E5%9B%9B%E8%B6%B3%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93-Month-7-Week-2/image-20230711094402549.png">

<link rel="canonical" href="http://example.com/2023/07/10/%E5%9B%9B%E8%B6%B3%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93-Month-7-Week-2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>四足机器人科研项目工作总结 Month 7 Week 2 | Shaw</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Shaw</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-download fa-fw"></i>resources</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>Schedule</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/10/%E5%9B%9B%E8%B6%B3%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93-Month-7-Week-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Shaw">
      <meta itemprop="description" content="Was mich nicht umbringt, macht mich stärker">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shaw">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          四足机器人科研项目工作总结 Month 7 Week 2
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-07-10 15:56:13" itemprop="dateCreated datePublished" datetime="2023-07-10T15:56:13+08:00">2023-07-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-07-14 12:17:40" itemprop="dateModified" datetime="2023-07-14T12:17:40+08:00">2023-07-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%9B%9B%E8%B6%B3%E6%9C%BA%E5%99%A8%E4%BA%BA/" itemprop="url" rel="index"><span itemprop="name">四足机器人</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="本周总结"><a href="#本周总结" class="headerlink" title="本周总结"></a>本周总结</h3><p>主要完成了如下工作</p>
<ol>
<li>配置虚拟环境 rlgpu 并安装 Isaac Gym 和 IsaacGymEnvs</li>
</ol>
<span id="more"></span>
<h3 id="2023-07-10"><a href="#2023-07-10" class="headerlink" title="2023.07.10"></a>2023.07.10</h3><h4 id="Unitree-sdk"><a href="#Unitree-sdk" class="headerlink" title="Unitree sdk"></a>Unitree sdk</h4><p><a target="_blank" rel="noopener" href="https://www.yuque.com/ironfatty/nly1un">宇树科技开发知识库 (yuque.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.yuque.com/ironfatty/nly1un/izk8w3">宇树四足机器人开发入门</a></p>
<h4 id="Zotero-WebDAV-Synchrony-NAS"><a href="#Zotero-WebDAV-Synchrony-NAS" class="headerlink" title="Zotero + WebDAV + Synchrony NAS"></a>Zotero + WebDAV + Synchrony NAS</h4><p>By default, Zotero will sync your local data with the Zotero servers whenever changes are made.</p>
<p>条目数据同步方式为云数据库的数据与本地数据存储文件夹 storage (用于存放附件) 同步</p>
<p>Data syncing syncs library items, but doesn’t sync attached files (PDFs, audio and video files, images, etc.). To sync these files, you can set up file syncing to accompany data syncing, using either Zotero Storage or WebDAV.</p>
<p>条目数据依靠 Zotero 同步，附件同步依靠 Zotero 或 WebDAV</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/137900314">Zotero 相关机制详解 - 知乎</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.sina.com.cn/s/blog_565e747c01014toj.html">Zotero 文献管理、科研笔记不完全教程 | loturest</a></p>
<p>解决方法：</p>
<ul>
<li>Preference $\rightarrow$ Sync $\rightarrow$ File Sync</li>
<li>先选择 Zotero</li>
<li>然后再选择 WebDAV</li>
<li>此时发现 NAS 上的云的文件与 zotero 中的文件对齐了</li>
</ul>
<h4 id="NAS"><a href="#NAS" class="headerlink" title="NAS"></a>NAS</h4><p><img src="/2023/07/10/%E5%9B%9B%E8%B6%B3%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93-Month-7-Week-2/image-20230711094402549.png" alt="image-20230711094402549" style="zoom: 33%;"></p>
<hr>
<h3 id="2023-07-11"><a href="#2023-07-11" class="headerlink" title="2023.07.11"></a>2023.07.11</h3><h5 id="Breakout-PPO-调试超参数"><a href="#Breakout-PPO-调试超参数" class="headerlink" title="Breakout  / PPO / 调试超参数"></a>Breakout  / PPO / 调试超参数</h5><p>learning_rate 的选择</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lr_set = &#123;<span class="number">1e-2</span>, <span class="number">2e-2</span>, <span class="number">5e-2</span>, <span class="number">1e-3</span>, <span class="number">2e-3</span>, <span class="number">5e-3</span>, <span class="number">1e-4</span>, <span class="number">2e-4</span>, <span class="number">5e-4</span>, <span class="number">1e-5</span>, <span class="number">2e-5</span>, <span class="number">5e-5</span>, //</span><br><span class="line">          <span class="number">1e-6</span>, <span class="number">2e-6</span>, <span class="number">5e-6</span>, <span class="number">1e-7</span>, <span class="number">2e-7</span>&#125;</span><br></pre></td></tr></table></figure>
<p>设定 learning rate schedule <a target="_blank" rel="noopener" href="https://stable-baselines3.readthedocs.io/en/master/guide/examples.html#learning-rate-schedule">$*$</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Callable</span></span><br><span class="line"><span class="keyword">from</span> stable_baselines3 <span class="keyword">import</span> PPO</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">linear_schedule</span>(<span class="params">initial_value: <span class="built_in">float</span></span>) -&gt; <span class="type">Callable</span>[[<span class="built_in">float</span>], <span class="built_in">float</span>]:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Linear learning rate schedule.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :param initial_value: Initial learning rate.</span></span><br><span class="line"><span class="string">    :return: schedule that computes</span></span><br><span class="line"><span class="string">      current learning rate depending on remaining progress</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">progress_remaining: <span class="built_in">float</span></span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Progress will decrease from 1 (beginning) to 0.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param progress_remaining:</span></span><br><span class="line"><span class="string">        :return: current learning rate</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> progress_remaining * initial_value</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> func</span><br><span class="line"></span><br><span class="line"><span class="comment"># Initial learning rate of 0.001</span></span><br><span class="line">model = PPO(<span class="string">&quot;MlpPolicy&quot;</span>, <span class="string">&quot;CartPole-v1&quot;</span>, learning_rate=linear_schedule(<span class="number">0.001</span>), verbose=<span class="number">1</span>)</span><br><span class="line">model.learn(total_timesteps=<span class="number">20_000</span>)</span><br><span class="line"><span class="comment"># By default, `reset_num_timesteps` is True, in which case the learning rate schedule resets.</span></span><br><span class="line"><span class="comment"># progress_remaining = 1.0 - (num_timesteps / total_timesteps)</span></span><br><span class="line">model.learn(total_timesteps=<span class="number">10_000</span>, reset_num_timesteps=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p>batch_size 的作用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">batch_size=<span class="number">128</span></span><br></pre></td></tr></table></figure>
<p>batch_size 过高会降低模型的泛化能力？</p>
<h4 id="重读-Stable-baselines3-官方文档"><a href="#重读-Stable-baselines3-官方文档" class="headerlink" title="重读 Stable-baselines3 官方文档"></a>重读 Stable-baselines3 官方文档</h4><h5 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h5><p>paper: <a target="_blank" rel="noopener" href="https://jmlr.org/papers/volume22/20-1364/20-1364.pdf">Stable-Baselines3: Reliable Reinforcement Learning Implementation</a></p>
<h5 id="Reinforcement-Learning-Tips-and-Tricks-Web-Slides"><a href="#Reinforcement-Learning-Tips-and-Tricks-Web-Slides" class="headerlink" title="Reinforcement Learning Tips and Tricks Web$*$ Slides$*$"></a>Reinforcement Learning Tips and Tricks <a target="_blank" rel="noopener" href="https://stable-baselines3.readthedocs.io/en/master/guide/rl_tips.html#reinforcement-learning-tips-and-tricks">Web$*$</a> <a target="_blank" rel="noopener" href="https://araffin.github.io/slides/rlvs-tips-tricks/">Slides$*$</a></h5><p>Custom Task Definition</p>
<ul>
<li>observation space </li>
<li>action space</li>
<li>reward function</li>
<li>termination conditions</li>
</ul>
<p>Choosing the observation space</p>
<ul>
<li>enough information to solve the task</li>
<li>do not break Markov assumption</li>
<li>normalization</li>
</ul>
<p>Algorithm Selection</p>
<ul>
<li>define action space: discrete / continuous / …</li>
<li>prefer sampling efficiency or speed?</li>
<li>whether you can parallel the training: look at vectorized Environments to learn more about training with multiple workers</li>
</ul>
<p><img src="https://araffin.github.io/slides/rlvs-tips-tricks/images/algo_flow_dark.png" alt="Algo flow" style="zoom: 33%;"></p>
<p>Creating a custom environment</p>
<ul>
<li>normalize the observation space and action space (when continuous)</li>
<li>If there is some time delay between action and observation (e.g. due to Wi-Fi communication), you should give a history of observations as input.</li>
</ul>
<h4 id="Vectorized-Environments"><a href="#Vectorized-Environments" class="headerlink" title="Vectorized Environments $*$"></a>Vectorized Environments <a target="_blank" rel="noopener" href="https://stable-baselines3.readthedocs.io/en/master/guide/vec_envs.html#vectorized-environments">$*$</a></h4><p>搞不明白 DummyVecEnv 和 SubprocVecEnv 的区别。在官方给出的表格中，前者不能 Multi-processing，而后者可以，但是实际训练时前者训练速度更快？！</p>
<blockquote>
<ol>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/lu_linux/article/details/130874144">深度学习 PyTorch，TensorFlow 中GPU利用率较低，CPU利用率很低，且模型训练速度很慢的问题总结与分析_深度学习 GPU 利用率很低</a></li>
</ol>
</blockquote>
<hr>
<h3 id="2023-07-12"><a href="#2023-07-12" class="headerlink" title="2023.07.12"></a>2023.07.12</h3><h4 id="NVIDIA-Isaac-Omniverse-Isaac-Sim"><a href="#NVIDIA-Isaac-Omniverse-Isaac-Sim" class="headerlink" title="NVIDIA / Isaac Omniverse / Isaac Sim"></a>NVIDIA / Isaac Omniverse / Isaac Sim</h4><p><img src="/2023/07/10/%E5%9B%9B%E8%B6%B3%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93-Month-7-Week-2/image-20230712102224441.png" alt="image-20230712102224441" style="zoom: 40%;"></p>
<h4 id="Isaac-Gym-Preview-4-amp-IsaacGymEnvs"><a href="#Isaac-Gym-Preview-4-amp-IsaacGymEnvs" class="headerlink" title="Isaac Gym Preview 4 &amp; IsaacGymEnvs"></a>Isaac Gym Preview 4 &amp; IsaacGymEnvs</h4><p>Paper: <a href="https://link.zhihu.com/?target=https%3A//arxiv.org/pdf/2108.10470.pdf">Isaac Gym: High Performance GPU-Based Physics Simulation For Robot Learning</a></p>
<p>Forum: <a target="_blank" rel="noopener" href="https://forums.developer.nvidia.com/c/agx-autonomous-machines/isaac/isaac-gym/322">Latest Robotics - Isaac/Isaac Gym topics - NVIDIA Developer Forums</a></p>
<p>Projects: </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/leggedrobotics/legged_gym/tree/master">GitHub | leggedrobotics/legged_gym: Isaac Gym Environments for Legged Robots</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/guichristmann/thormang3-gogoro-PPO">GitHub | guichristmann/thormang3-gogoro-PPO: Steering-based control of a two-wheeled vehicle using RL-PPO and NVIDIA Isaac Gym.</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/jmcoholich/isaacgym">GitHub | jmcoholich/isaacgym</a> [Unitree Aliengo]</li>
</ul>
<p>GitHub: <a target="_blank" rel="noopener" href="https://github.com/NVIDIA-Omniverse/IsaacGymEnvs/tree/main">GitHub | NVIDIA-Omniverse/IsaacGymEnvs: Isaac Gym Reinforcement Learning Environments</a></p>
<p>镜像: <a target="_blank" rel="noopener" href="https://gitcode.net/mirrors/NVIDIA-Omniverse/IsaacGymEnvs?utm_source=csdn_github_accelerator">GitCode | mirrors / NVIDIA-Omniverse / IsaacGymEnvs · GitCode</a></p>
<h5 id="安装与环境配置资料查阅"><a href="#安装与环境配置资料查阅" class="headerlink" title="安装与环境配置资料查阅"></a>安装与环境配置资料查阅</h5><p>Blog: </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.51cto.com/u_15642578/5316830">NVIDIA 公司推出的 GPU 运行环境下的机器人仿真环境（NVIDIA Isaac Gym）的安装</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/svfsvadfv/article/details/129214461">issacgym + leggedgym 安装 | RobotFreak 的博客</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/hongliyu_lvliyu/article/details/124605383?spm=1001.2014.3001.5502">Isaac-gym(1): 安装及官方 demo 内容 | hongliyu lvliyu 的博客</a> (参考此方法)</li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/618778210">Isaac Gym 安装及使用教程 - 知乎</a> (参考此方法)</li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/xzs1210652636/article/details/129535975">Isaac Gym（一）在 Ubuntu20.04.1 中安装 Isaac Gym | 墨绿色的摆渡人的博客</a></li>
<li><a target="_blank" rel="noopener" href="https://www.elecfans.com/d/2055328.html">使用 Isaac Gym 来强化学习 mycobot 抓取任务</a> (采用此方法)</li>
</ul>
<p>Documentation:</p>
<ul>
<li>在 isaacgym/docs 目录下打开 index.html 文件</li>
</ul>
<p>重要事实</p>
<ul>
<li>Isaac Gym 是 Nvidia 为强化学习开发的物理模拟环境。基于 OpenAI Gym 库，物理计算在 GPU 上进行，结果可以作为 Pytorch GPU 张量接收，从而实现快速模拟和学习。物理模拟是使用 PhysX 进行的，它还支持使用 FleX 的软体模拟。</li>
<li>可以从 Nvidia的开发人员页面免费下载 Isaac Gym 主软件包。文档以 HTML 格式保存在软件包的“docs”目录中（请注意，网站上没有）</li>
<li>推荐环境：<ul>
<li>Ubuntu 18.04、20.04</li>
<li>Python 3.6~3.8</li>
<li>Nvidia Driver&gt;=470</li>
</ul>
</li>
<li>文件 rlgpu_conda_envs.yml 中写出了 isaac gym 的依赖库<ul>
<li>python=3.7</li>
<li>pytorch=1.8.1</li>
<li>torchvision=0.9.1</li>
<li>cudatoolkit=11.1</li>
<li>pyyaml&gt;=5.3.1</li>
<li>scipy&gt;=1.5.0</li>
<li>tensorboard&gt;=2.2.1</li>
</ul>
</li>
<li>IsaacGymEnvs 是一个 Python 软件包，用于在 Isaac Gym 中测试强化学习环境。通过参考实现的任务，可以使用 rl-games 中实现的强化学习算法轻松构建强化学习环境。即使对于那些计划编写自己的强化学习算法的人，也建议尝试使用此软件包与 Isaac Gym 一起学习。它最初包含在 Isaac Gym 中，在 Preview3 中分离出来，现在在 GitHub 上公开可用</li>
</ul>
<h5 id="安装及报错解决"><a href="#安装及报错解决" class="headerlink" title="安装及报错解决"></a>安装及报错解决</h5><p><strong>在进行第 2，3 步之前先看第 5 步！</strong></p>
<ol>
<li><p>环境</p>
<ul>
<li>Ubuntu 22.04 LTS (<strong>可能会有问题?</strong>)</li>
<li>Python 3.7</li>
<li>Nvidia Driver 525</li>
</ul>
</li>
<li><p>创建名为 rlgpu 的虚拟环境并激活环境</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(base) ... ~$ conda create -n rlgpu python=3.7</span><br><span class="line">(base) ...~$ <span class="built_in">source</span> activate rlgpu</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装依赖库 </p>
<p>Isaac Gym 主要就是依赖 <a target="_blank" rel="noopener" href="https://pytorch.org/get-started/locally/">pytorch</a>, torchvision, cudatoolkit, tensorboard，而 IsaacGymEnvs 的运行依赖 Isaac Gym</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(rlgpu) ... ~$ conda install pytorch torchvision torchaudio pytorch-cuda-11.7 -c pytorch -c nvidia</span><br><span class="line">(rlgpu) ... ~$ pip install tensorboard</span><br></pre></td></tr></table></figure>
</li>
<li><p>下载 <a target="_blank" rel="noopener" href="https://developer.nvidia.com/isaac-gym">Isaac Gym - Preview Release</a> </p>
<p>首次登录需要注册并成为会员 (免费)</p>
</li>
<li><p>安装 Isaac Gym</p>
<p>解压 <code>IsaacGym_Preview_4_Package.tar.gz</code> 文件放在主目录下</p>
<p>进入 <code>IsaacGym_Preview_4_Package\isaacgym\docs</code>，双击 <code>index.html</code> 打开官方文档，按照步骤安装</p>
<ul>
<li><p>方法 1（失败）：直接建立新的虚拟环境</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(base) ... ~$ <span class="built_in">cd</span> isaacgym/python/</span><br><span class="line"></span><br><span class="line">(base) ... ~$ sh ../create_conda_env_rlgpu.sh</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">(base) ... ~$ bash ../create_conda_env_rlgpu.sh</span><br></pre></td></tr></table></figure>
<p>结果在创建新环境时一直卡在 Solving Environment</p>
</li>
<li><p>方法 2（成功）：如步骤 2，3 创建环境之后</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(base) ... ~$ <span class="built_in">source</span> activate rlgpu</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>当上述两个方法二选一之后，通过如下方式安装 Isaac Gym：首先返回 <code>python</code> 子目录下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(rlgpu) ... ~/isaacgym/python$ pip install -e .</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装 <a target="_blank" rel="noopener" href="https://github.com/NVIDIA-Omniverse/IsaacGymEnvs">IsaacGymEnvs</a></p>
<p>直接通过 git clone 的方式安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/NVIDIA-Omniverse/IsaacGymEnvs.git$ <span class="built_in">cd</span> IsaacGymEnvs</span><br></pre></td></tr></table></figure>
<p>失败，换用<a target="_blank" rel="noopener" href="https://gitcode.net/mirrors/NVIDIA-Omniverse/IsaacGymEnvs?utm_source=csdn_github_accelerator">镜像</a>安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://gitcode.net/mirrors/NVIDIA-Omniverse/IsaacGymEnvs.git</span><br></pre></td></tr></table></figure>
<p>类似地</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(rlgpu) ... ~/IsaacGymEnvs$ pip install -e .</span><br></pre></td></tr></table></figure>
</li>
<li><p>测试</p>
<p>通过 PyCharm 打开 IsaacGymEnvs 项目，右下角选择添加 Python 本地解释器，选择 Conda，选择 rlgpu</p>
<p>打开 <code>isaacgymenvs</code> 目录下的 <code>train.py</code>，点击运行，发现报错 <code>ImportError: libpython3.7m.so.1.0: cannot open shared ogject file:...</code></p>
</li>
<li><p>报错处理</p>
<p>首先找出系统中的 <code>libpython3.7m.so.1.0</code> 的位置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(base) ... ~$ find / -name <span class="string">&quot;libpython*so*&quot;</span></span><br></pre></td></tr></table></figure>
<p>输入可能如下所示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">/home/cc/anaconda3/envs/rlgpu/lib/libpython3.so</span><br><span class="line">/home/cc/anaconda3/envs/rlgpu/lib/libpython3.7m.so</span><br><span class="line">/home/cc/anaconda3/envs/rlgpu/lib/libpython3.7m.so.1.0</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>找到任意一个 <code>libpython3.7m.so.1.0</code>，复制到 <code>/usr/lib/x86_64-linux-gnu</code> 目录下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(base) ... ~$  sudo cp /home/cc/anaconda3/envs/rlgpu/lib/libpython3.7m.so.1.0 /usr/lib/x86_64-linux-gnu</span><br></pre></td></tr></table></figure>
<p>再次运行 <code>train.py</code>，结果成功</p>
</li>
<li><p>训练 Anymal</p>
<p>在 PyCharm 中打开 Terminal 终端，找到 <code>train.py</code> 对应的目录，选择 task 为 Anymal</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(rlgpu) ... ~/IsaacGymEnvs/isaacgymenvs$ python train.py task=Anymal </span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="IsaacGymEnvs-文件结构"><a href="#IsaacGymEnvs-文件结构" class="headerlink" title="IsaacGymEnvs 文件结构"></a>IsaacGymEnvs 文件结构</h4><h5 id="IsaacGymEnvs"><a href="#IsaacGymEnvs" class="headerlink" title="IsaacGymEnvs"></a>IsaacGymEnvs</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt; .gitlab</span><br><span class="line">&gt; assets</span><br><span class="line">&gt; docs</span><br><span class="line">&gt; isaacgymenvs</span><br><span class="line">&gt; isaacgymenvs.egg-info		# 在 pip install -e . 之后产生的</span><br><span class="line">- .gitattributes</span><br><span class="line">- .gitignore</span><br><span class="line">- .pre-commit-config.yaml</span><br><span class="line">- LICENSE.txt</span><br><span class="line">- README.md</span><br><span class="line">- setup.py</span><br></pre></td></tr></table></figure>
<h5 id="docs"><a href="#docs" class="headerlink" title="docs"></a>docs</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; images</span><br><span class="line">- dextreme.md</span><br><span class="line">- domain_randomization.md</span><br><span class="line">- factory.md</span><br><span class="line">- framework.md</span><br><span class="line">- pbt.md</span><br><span class="line">- release_notes.md</span><br><span class="line">- reproducibilty.md</span><br><span class="line">- rl_examples.md</span><br></pre></td></tr></table></figure>
<h5 id="isaacgymenvs"><a href="#isaacgymenvs" class="headerlink" title="isaacgymenvs"></a>isaacgymenvs</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; cfg			# configuration</span><br><span class="line">&gt; learning</span><br><span class="line">&gt; pbt</span><br><span class="line">&gt; runs			# training data / checkpoints</span><br><span class="line">&gt; tasks			# different tasks</span><br><span class="line">&gt; utils</span><br><span class="line">- __init__.py</span><br><span class="line">- train.py		# main</span><br></pre></td></tr></table></figure>
<h4 id="isaacgymenvs-Readme-md"><a href="#isaacgymenvs-Readme-md" class="headerlink" title="isaacgymenvs/Readme.md"></a>isaacgymenvs/Readme.md</h4><h5 id="Running-the-ANYmal"><a href="#Running-the-ANYmal" class="headerlink" title="Running the ANYmal"></a>Running the ANYmal</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(rlgpu) ... ~/IsaacGymEnvs$ python isaacgymenvs/train.py task=Anymal </span><br></pre></td></tr></table></figure>
<p>结果将会保存在 <code>runs</code> 文件夹下</p>
<h5 id="TensorBoard"><a href="#TensorBoard" class="headerlink" title="TensorBoard"></a>TensorBoard</h5><p>训练过程的 Callback 数据保存在 <code>runs/EXPERIMENT_NAME/summaries</code> 文件夹，其中 <code>EXPERIMENT_NAME</code> 一般和 Task 的名字有关，也可以通过参数 <code>experiment</code> 进行设定</p>
<p>在命令行中输入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(rlgpu) ... ~/IsaacGymEnvs$ tensorboard --logdir ./isaacgymenvs/runs/EXPERIMENT_NAME/summaries</span><br></pre></td></tr></table></figure>
<p>点击 <a target="_blank" rel="noopener" href="http://localhost:6006/">http://localhost:6006/</a> 查看结果</p>
<h5 id="Loading-trained-models-Checkpoints"><a href="#Loading-trained-models-Checkpoints" class="headerlink" title="Loading trained models / Checkpoints $*$"></a>Loading trained models / Checkpoints <a target="_blank" rel="noopener" href="https://gitcode.net/mirrors/NVIDIA-Omniverse/IsaacGymEnvs/-/blob/main/README.md#loading-trained-models-checkpoints">$*$</a></h5><p>Checkpoints 将会保存在 <code>runs/EXPERIMENT_NAME/nn</code> 文件夹下</p>
<p>如果想要继续训练</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python train.py task=Ant checkpoint=runs/Ant/nn/Ant.pth</span><br></pre></td></tr></table></figure>
<p>如果想要进行测试</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python train.py task=Ant checkpoint=runs/Ant/nn/Ant.pth <span class="built_in">test</span>=True num_envs=64</span><br></pre></td></tr></table></figure>
<h5 id="Configuration-and-command-line-arguments"><a href="#Configuration-and-command-line-arguments" class="headerlink" title="Configuration and command line arguments"></a>Configuration and command line arguments</h5><p>使用 <a target="_blank" rel="noopener" href="https://hydra.cc/docs/intro/">Hydra</a> 进行配置文件的管理，在 <code>train.py</code> 文件中有 <code>import hydra</code></p>
<p>有如下参数 <code>task</code>, <code>train</code>  (选择 training config), <code>num_envs</code>, <code>seed</code>, <code>sim_device</code> (用于物理模拟的 device), <code>rl_device</code> (用于强化学习的 device), <code>graphics_devices_id</code>, <code>pipeline</code> (使用 GPU 或 CPU，详见文档), <code>test</code> (不进行训练), <code>checkpoint</code> (指定 load checkpoint 的路径), <code>headless</code>, <code>experiment</code> (设定实验名称), <code>max_iterations</code></p>
<p>默认配置文件信息可以在 <code>isaacgymenvs/config/config.yaml</code> 找到</p>
<p><code>task</code> 的配置文件可以在 <code>isaacgymenvs/config/task/&lt;TASK&gt;.yaml</code> 中找到并且用于 <code>train</code> 的配置文件位于  <code>isaacgymenvs/config/train/&lt;TASK&gt;PPO.yaml</code>. </p>
<p><a target="_blank" rel="noopener" href="https://omegaconf.readthedocs.io/en/latest/usage.html">Usage — OmegaConf 2.4.0.dev0 documentation</a></p>
<h4 id="Tasks"><a href="#Tasks" class="headerlink" title="Tasks"></a>Tasks</h4><p>Tasks 的源代码在  <code>isaacgymenvs/tasks</code> 中，它们的基类在  <code>isaacgymenvs/tasks/base/vec_task.py</code> 中</p>
<blockquote>
<ol>
<li><p><a target="_blank" rel="noopener" href="https://docs.omniverse.nvidia.com/">NVIDIA Omniverse Documentation</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://docs.omniverse.nvidia.com/prod_kit/prod_kit/overview.html">Omniverse Developer Guide — Omniverse Kit documentation</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://docs.omniverse.nvidia.com/prod_launcher/prod_launcher/workstation-launcher.html">User Guide — Omniverse Launcher documentation</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.nvidia.com/isaac-sim">Isaac Sim - Robotics Simulation and Synthetic Data Generation | NVIDIA Developer</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=Afi17BnSuBM">Isaac Gym Part 3E: Academic Labs - Eth Zurich - YouTube</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/544151659">Isaac Sim 探索|（一）安装 Omniverse 及 Isaac Sim - 知乎</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/543052117">Isaac Omniverse 安装组件时缓慢 - 知乎</a></p>
<p>暂时未遇到这个问题</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/543745183">Isaac仿真平台搭建以及ROS试用教程 - 稚晖 - 知乎</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://docs.omniverse.nvidia.com/app_isaacsim/app_isaacsim/overview.html">What Is Isaac Sim — Omniverse Robotics documentation</a></p>
<p>NVIDIA Omniverse™ Isaac Sim is a robotics simulation toolkit for the <a target="_blank" rel="noopener" href="https://docs.omniverse.nvidia.com/">NVIDIA Omniverse™</a> platform. Isaac Sim has essential features for building virtual robotic worlds and experiments. It provides researchers and practitioners with the tools and workflows they need to create robust, physically accurate simulations and synthetic datasets. Isaac Sim supports navigation and manipulation applications through ROS/ROS2. It simulates sensor data from sensors such as RGB-D, Lidar, and IMU for various computer vision techniques such as domain randomization, ground-truth labeling, segmentation, and bounding boxes.</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://docs.omniverse.nvidia.com/py/isaacsim/index.html">Isaac Sim: Extensions API — Isaac Sim 2022.2.1-beta.29 documentation</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.nvidia.com/tao-toolkit#:~:text=With the TAO Toolkit%2C you,for AI-model-adaptation.">TAO Toolkit | NVIDIA Developer</a></p>
<p>Eliminate your need for mountains of data and an army of data scientists as you create AI/machine learning models, and speed up the development process with <a target="_blank" rel="noopener" href="https://blogs.nvidia.com/blog/2019/02/07/what-is-transfer-learning/">transfer learning</a> - a powerful technique that instantly transfers learned features from an existing neural network model to a new customized one</p>
<p>The NVIDIA TAO Toolkit, built on TensorFlow and PyTorch, uses the power of transfer learning while simultaneously simplifying the model training process and optimizing the model for inference throughput on the target platform. The result is an ultra-streamlined workflow. Take your own models or pre-trained models, adapt them to your own real or synthetic data, then optimize for inference throughput. All without needing AI expertise or large training datasets.</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv17598418?spm_id_from=333.999.0.0">强化学习环境 ISAAC GYM 初步入门 - 哔哩哔哩</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.nvidia.com/isaac-gym">Isaac Gym - Preview Release | NVIDIA Developer</a></p>
<p>目前可供选择的是 Preview 4</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/538051397">Isaac Gym 安装与简单使用 - 知乎</a></p>
</li>
<li><p>在终端打开 <code>.py</code> 文件时，首先到定位到文件所在文件夹位置</p>
</li>
</ol>
</blockquote>
<hr>
<h3 id="2023-07-13"><a href="#2023-07-13" class="headerlink" title="2023.07.13"></a>2023.07.13</h3><h4 id="IsaacGymEnvs-1"><a href="#IsaacGymEnvs-1" class="headerlink" title="IsaacGymEnvs"></a>IsaacGymEnvs</h4><h5 id="isaacgymenvs-tasks-base-vec-task-py"><a href="#isaacgymenvs-tasks-base-vec-task-py" class="headerlink" title="isaacgymenvs/tasks/base/vec_task.py"></a>isaacgymenvs/tasks/base/vec_task.py</h5><p>所有的自定义 Task 类都应该基于 <code>VecTask</code> 类，而 <code>VecTask</code> 继承了抽象类 <code>Env</code></p>
<p>初始化<code>Env</code> 时：</p>
<ul>
<li>实例化参数：<code>config</code> (主要是 <code>config[&quot;env&quot;]</code>)，<code>sim_device</code> (包括 <code>device_type</code>，<code>device_id</code>)，<code>rl_device</code>，<code>graphics_device_id</code>，<code>headless</code></li>
<li>配置文件 config (dictionary) 中必须提供 <code>numEnvs</code>，<code>numObservations</code>，<code>numActions</code></li>
<li>配置文件 config (dictionary) 中的可选参数：<code>numAgents</code>，<code>numStates</code>，<code>controlFrequencyInv</code>，<code>clipObservations</code>，<code>clipActions</code>，<code>enableCameraSensors</code></li>
</ul>
<p><code>Env</code> 内含：</p>
<ul>
<li>@abc.abstractmethod (子类继承该抽象基类时必须拥有以下方法)：<code>allocate_buffer()</code>，<code>step()</code>，<code>reset()</code>，<code>resets_idx()</code></li>
<li>@property (将方法转化为属性)：<code>observation_space</code>，<code>action_space</code>，<code>num_envs</code>，<code>num_acts</code>，<code>num_obs</code></li>
<li>其他：<code>set_train_info()</code>，<code>set_env_state()</code>，<code>set_env_state()</code></li>
</ul>
<p>初始化 <code>VecTask</code> 时：</p>
<ul>
<li>配置文件参数 config 中必须提供 <code>&quot;physics_engine&quot;</code></li>
</ul>
<p><code>VecTasks</code> 内含：</p>
<ul>
<li><code>set_viewer()</code>，<code>allocate_buffers()</code>，<code>create_sim()</code>，<code>get_state()</code>，<code>reset()</code>，<code>render()</code>，…</li>
<li>@abc.abstractmethod：<code>pre_physics_step</code>，<code>post_physics_step</code></li>
</ul>
<p>重点讲讲 <code>step()</code> 函数</p>
<p>在 Stable-Baseline3 中，自定义环境需要继承基类 <code>gym.Env</code>，同时要求重写 (@abc.abstractmethod) 方法 <code>step</code>，<code>reset</code> 和 <code>render</code>。其中 <code>step</code> 函数输入基于 RL 算法的 Policy 所提供的动作，并在仿真环境中进行动力学解算，最后计算 observation，rewards，terminated 和 info 并返回</p>
<p>但是在 IsaacGymEnvs 中，<code>step</code> 上述过程被进一步细化为 </p>
<ol>
<li><code>pre_physics_step</code>：用于 apply actions</li>
<li><code>self.gym.simulation</code> 中进行动力学解算</li>
<li><code>post_physics_step</code>：用于计算 observation，rewards，resets，…</li>
</ol>
<h4 id="Python-新知"><a href="#Python-新知" class="headerlink" title="Python 新知"></a>Python 新知</h4><p>列表生成式，生成器 (<code>generator</code>)，迭代器 (<code>iterator</code>)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表生成式</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成器</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>g = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">5</span>,<span class="number">2</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">next</span>(g)</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">next</span>(g)</span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">next</span>(g)</span><br><span class="line"><span class="number">25</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">next</span>(g)</span><br><span class="line">Traceback</span><br><span class="line">StopIteration</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>匿名函数 <code>lambda</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: x * x, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]))</span><br><span class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>evens = <span class="built_in">list</span>(<span class="built_in">filter</span>(<span class="keyword">lambda</span> x: x % <span class="number">2</span> == <span class="number">0</span>, <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11</span>))))</span><br></pre></td></tr></table></figure>
<p><code>__init__.py</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- demo.py</span><br><span class="line">&gt; package</span><br><span class="line">  - __init__.py		# 调用 package 会自动调用该函数</span><br><span class="line">  - module.py</span><br></pre></td></tr></table></figure>
<p><code>abc, ABC, abstractmethod</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> abc </span><br><span class="line"><span class="keyword">from</span> abc <span class="keyword">import</span> ABC</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>(<span class="params">ABC</span>)</span></span><br><span class="line"><span class="class">	<span class="title">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">    	<span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">    @abc.abstractmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Human</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Human can move.&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>注解类型 <code>typing</code></p>
<ul>
<li>List[int], Dict[str, int], Tuple(int, str, int), Tuple(int, …)</li>
<li>Any, Union[int, str], Optional[int] = Union[int, None] </li>
<li>NewType</li>
</ul>
<p>@property</p>
<ul>
<li>将方法转化为属性</li>
<li>属性的方法名不要和实例变量重名</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@property</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">score</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">return</span> self._score</span><br><span class="line"></span><br><span class="line"><span class="meta">@score.setter</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">score</span>(<span class="params">self, value</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(value, <span class="built_in">int</span>):</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">&#x27;score must be an integer!&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> value &lt; <span class="number">0</span> <span class="keyword">or</span> value &gt; <span class="number">100</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">&#x27;score must between 0 ~ 100!&#x27;</span>)</span><br><span class="line">    self._score = value</span><br></pre></td></tr></table></figure>
<blockquote>
<ol>
<li><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/448271/what-is-init-py-for">What is __init__.py for - Stack Overflow</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/474874811">__init__.py文件到底是什么 - 知乎</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45656077/article/details/114637965">面向对象2：之抽象基类：import abc, metaclass=abc.ABCMeta | Recently_祝祝的博客</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43391414/article/details/127918891">from abc import ABC,abstractmethod 是什么意思 | 音程的博客</a></p>
<p>要定义一些抽象方法，然后子类继承的时候必须要重写这些方法。出于这个目标，我们就要用到abc这个包。<code>@abstractmethod</code>表示这个方法是一个抽象方法，子类必须重写</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/gongxiaoyi9511/article/details/120976439">注解类型 typing: from typing import List | zhegecsdn的博客</a></p>
</li>
</ol>
</blockquote>
<hr>
<h3 id="2023-07-14"><a href="#2023-07-14" class="headerlink" title="2023.07.14"></a>2023.07.14</h3><h4 id="gym-envs-mujoco-halfcheetah-v1-v3-v4"><a href="#gym-envs-mujoco-halfcheetah-v1-v3-v4" class="headerlink" title="gym / envs / mujoco / halfcheetah v1, v3, v4"></a>gym / envs / mujoco / halfcheetah v1, v3, v4</h4><p><code>gym/core.py</code> 定义了抽象基类 <code>Env</code>。主要的 API 方法有 step()，reset()，render()，close()，seed()，其中 abc.abstractmethod 有step()，reset() 和 render()</p>
<p><code>gmy/envs/mujoco_env.py</code> 中定义继承基类 <code>gym.Env</code> 的类 <code>BaseMujocoEnv</code> 以及定义了继承 <code>BaseMujocoEnv</code> 的 <code>MujocoEnv</code></p>
<p><code>half_cheetah_v4.py</code> 中定义了继承 <code>MujocoEnv</code> 的 <code>HalfCheetahEnv</code></p>
<h4 id="python-新知"><a href="#python-新知" class="headerlink" title="python 新知"></a>python 新知</h4><h5 id="用户定义的泛型类型"><a href="#用户定义的泛型类型" class="headerlink" title="用户定义的泛型类型 $*$"></a>用户定义的泛型类型 <a target="_blank" rel="noopener" href="https://www.osgeo.cn/cpython/library/typing.html#user-defined-generic-types">$*$</a></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">class Env(Generic[ObsType, ActType]):</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="MICRO-Quadruped-ARCHIVE-阅读并添加注释"><a href="#MICRO-Quadruped-ARCHIVE-阅读并添加注释" class="headerlink" title="MICRO_Quadruped_ARCHIVE 阅读并添加注释"></a>MICRO_Quadruped_ARCHIVE 阅读并添加注释</h4>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E9%A1%B9%E7%9B%AE%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93/" rel="tag"># 项目工作总结</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/07/03/%E5%9B%9B%E8%B6%B3%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93-Month-7-Week-1/" rel="prev" title="四足机器人科研项目工作总结 Month 7 Week 1">
      <i class="fa fa-chevron-left"></i> 四足机器人科研项目工作总结 Month 7 Week 1
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%AC%E5%91%A8%E6%80%BB%E7%BB%93"><span class="nav-number">1.</span> <span class="nav-text">本周总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2023-07-10"><span class="nav-number">2.</span> <span class="nav-text">2023.07.10</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Unitree-sdk"><span class="nav-number">2.1.</span> <span class="nav-text">Unitree sdk</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Zotero-WebDAV-Synchrony-NAS"><span class="nav-number">2.2.</span> <span class="nav-text">Zotero + WebDAV + Synchrony NAS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#NAS"><span class="nav-number">2.3.</span> <span class="nav-text">NAS</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2023-07-11"><span class="nav-number">3.</span> <span class="nav-text">2023.07.11</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Breakout-PPO-%E8%B0%83%E8%AF%95%E8%B6%85%E5%8F%82%E6%95%B0"><span class="nav-number">3.0.1.</span> <span class="nav-text">Breakout  &#x2F; PPO &#x2F; 调试超参数</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%87%8D%E8%AF%BB-Stable-baselines3-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3"><span class="nav-number">3.1.</span> <span class="nav-text">重读 Stable-baselines3 官方文档</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">3.1.1.</span> <span class="nav-text">参考资料</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Reinforcement-Learning-Tips-and-Tricks-Web-Slides"><span class="nav-number">3.1.2.</span> <span class="nav-text">Reinforcement Learning Tips and Tricks Web$*$ Slides$*$</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Vectorized-Environments"><span class="nav-number">3.2.</span> <span class="nav-text">Vectorized Environments $*$</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2023-07-12"><span class="nav-number">4.</span> <span class="nav-text">2023.07.12</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#NVIDIA-Isaac-Omniverse-Isaac-Sim"><span class="nav-number">4.1.</span> <span class="nav-text">NVIDIA &#x2F; Isaac Omniverse &#x2F; Isaac Sim</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Isaac-Gym-Preview-4-amp-IsaacGymEnvs"><span class="nav-number">4.2.</span> <span class="nav-text">Isaac Gym Preview 4 &amp; IsaacGymEnvs</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E4%B8%8E%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E8%B5%84%E6%96%99%E6%9F%A5%E9%98%85"><span class="nav-number">4.2.1.</span> <span class="nav-text">安装与环境配置资料查阅</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E5%8F%8A%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3"><span class="nav-number">4.2.2.</span> <span class="nav-text">安装及报错解决</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IsaacGymEnvs-%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="nav-number">4.3.</span> <span class="nav-text">IsaacGymEnvs 文件结构</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#IsaacGymEnvs"><span class="nav-number">4.3.1.</span> <span class="nav-text">IsaacGymEnvs</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#docs"><span class="nav-number">4.3.2.</span> <span class="nav-text">docs</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#isaacgymenvs"><span class="nav-number">4.3.3.</span> <span class="nav-text">isaacgymenvs</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#isaacgymenvs-Readme-md"><span class="nav-number">4.4.</span> <span class="nav-text">isaacgymenvs&#x2F;Readme.md</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Running-the-ANYmal"><span class="nav-number">4.4.1.</span> <span class="nav-text">Running the ANYmal</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#TensorBoard"><span class="nav-number">4.4.2.</span> <span class="nav-text">TensorBoard</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Loading-trained-models-Checkpoints"><span class="nav-number">4.4.3.</span> <span class="nav-text">Loading trained models &#x2F; Checkpoints $*$</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Configuration-and-command-line-arguments"><span class="nav-number">4.4.4.</span> <span class="nav-text">Configuration and command line arguments</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Tasks"><span class="nav-number">4.5.</span> <span class="nav-text">Tasks</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2023-07-13"><span class="nav-number">5.</span> <span class="nav-text">2023.07.13</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#IsaacGymEnvs-1"><span class="nav-number">5.1.</span> <span class="nav-text">IsaacGymEnvs</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#isaacgymenvs-tasks-base-vec-task-py"><span class="nav-number">5.1.1.</span> <span class="nav-text">isaacgymenvs&#x2F;tasks&#x2F;base&#x2F;vec_task.py</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Python-%E6%96%B0%E7%9F%A5"><span class="nav-number">5.2.</span> <span class="nav-text">Python 新知</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2023-07-14"><span class="nav-number">6.</span> <span class="nav-text">2023.07.14</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#gym-envs-mujoco-halfcheetah-v1-v3-v4"><span class="nav-number">6.1.</span> <span class="nav-text">gym &#x2F; envs &#x2F; mujoco &#x2F; halfcheetah v1, v3, v4</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#python-%E6%96%B0%E7%9F%A5"><span class="nav-number">6.2.</span> <span class="nav-text">python 新知</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E7%9A%84%E6%B3%9B%E5%9E%8B%E7%B1%BB%E5%9E%8B"><span class="nav-number">6.2.1.</span> <span class="nav-text">用户定义的泛型类型 $*$</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MICRO-Quadruped-ARCHIVE-%E9%98%85%E8%AF%BB%E5%B9%B6%E6%B7%BB%E5%8A%A0%E6%B3%A8%E9%87%8A"><span class="nav-number">6.3.</span> <span class="nav-text">MICRO_Quadruped_ARCHIVE 阅读并添加注释</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Shaw"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Shaw</p>
  <div class="site-description" itemprop="description">Was mich nicht umbringt, macht mich stärker</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">82</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2021-10 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Shaw</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>


    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">总访客数<span id="busuanzi_value_site_uv"></span>人</span>
    <span class="post-meta-divider">|</span>
<!-- 不蒜子计数初始值纠正 -->
<script>
$(document).ready(function() {

    var int = setInterval(fixCount, 50);  // 50ms周期检测函数
    var countOffset = 20000;  // 初始化首次数据

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset); // 加上初始数据 
            clearInterval(int); // 停止检测
        }  
    }
       	
});
</script> 

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/canvas_sphere.min.js"></script>


  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
